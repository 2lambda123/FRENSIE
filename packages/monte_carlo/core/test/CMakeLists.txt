FRENSIE_INITIALIZE_PACKAGE_TESTS(monte_carlo_core)

ADD_SUBDIRECTORY(test_files)
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

FRENSIE_ADD_TEST_EXECUTABLE(ParticleType DEPENDS tstParticleType.cpp)
FRENSIE_ADD_TEST(ParticleType)

FRENSIE_ADD_TEST_EXECUTABLE(ParticleState DEPENDS tstParticleState.cpp)
FRENSIE_ADD_TEST(ParticleState)

IF(FRENSIE_ENABLE_ROOT)
  FRENSIE_ADD_TEST_EXECUTABLE(RootParticleState
    DEPENDS tstRootParticleState.cpp
    LIB_DEPENDS geometry_root)
  FRENSIE_ADD_TEST(RootParticleState
    EXTRA_ARGS --test_root_file=${CMAKE_CURRENT_BINARY_DIR}/test_files/basic_root_geometry.root)
ENDIF()

IF(FRENSIE_ENABLE_DAGMC)
  FRENSIE_ADD_TEST_EXECUTABLE(DagMCParticleState
    DEPENDS tstDagMCParticleState.cpp
    LIB_DEPENDS geometry_dagmc)
  FRENSIE_ADD_TEST(DagMCParticleState
    EXTRA_ARGS --test_cad_file=${CMAKE_CURRENT_SOURCE_DIR}/test_files/test_geom.sat)
ENDIF()

FRENSIE_ADD_TEST_EXECUTABLE(PhotonState DEPENDS tstPhotonState.cpp)
FRENSIE_ADD_TEST(PhotonState)

FRENSIE_ADD_TEST_EXECUTABLE(AdjointPhotonState DEPENDS tstAdjointPhotonState.cpp)
FRENSIE_ADD_TEST(AdjointPhotonState)

FRENSIE_ADD_TEST_EXECUTABLE(AdjointPhotonProbeState DEPENDS tstAdjointPhotonProbeState.cpp)
FRENSIE_ADD_TEST(AdjointPhotonProbeState)

FRENSIE_ADD_TEST_EXECUTABLE(NeutronState DEPENDS tstNeutronState.cpp)
FRENSIE_ADD_TEST(NeutronState)

FRENSIE_ADD_TEST_EXECUTABLE(ElectronState DEPENDS tstElectronState.cpp)
FRENSIE_ADD_TEST(ElectronState)

FRENSIE_ADD_TEST_EXECUTABLE(AdjointElectronState DEPENDS tstAdjointElectronState.cpp)
FRENSIE_ADD_TEST(AdjointElectronState)

FRENSIE_ADD_TEST_EXECUTABLE(AdjointElectronProbeState DEPENDS tstAdjointElectronProbeState.cpp)
FRENSIE_ADD_TEST(AdjointElectronProbeState)

FRENSIE_ADD_TEST_EXECUTABLE(PositronState DEPENDS tstPositronState.cpp)
FRENSIE_ADD_TEST(PositronState)

FRENSIE_ADD_TEST_EXECUTABLE(ParticleBank DEPENDS tstParticleBank.cpp)
FRENSIE_ADD_TEST(ParticleBank)

FRENSIE_ADD_TEST_EXECUTABLE(PhotoatomicReactionTypeHelpers DEPENDS tstPhotoatomicReactionTypeHelpers.cpp)
FRENSIE_ADD_TEST(PhotoatomicReactionTypeHelpers)

FRENSIE_ADD_TEST_EXECUTABLE(IncoherentAdjointModelTypeHelpers DEPENDS tstIncoherentAdjointModelTypeHelpers.cpp)
FRENSIE_ADD_TEST(IncoherentAdjointModelTypeHelpers)

FRENSIE_ADD_TEST_EXECUTABLE(AdjointPhotoatomicReactionTypeHelpers DEPENDS tstAdjointPhotoatomicReactionTypeHelpers.cpp)
FRENSIE_ADD_TEST(AdjointPhotoatomicReactionTypeHelpers)

FRENSIE_ADD_TEST_EXECUTABLE(ElectroatomicReactionTypeHelpers DEPENDS tstElectroatomicReactionTypeHelpers.cpp)
FRENSIE_ADD_TEST(ElectroatomicReactionTypeHelpers)

FRENSIE_ADD_TEST_EXECUTABLE(AdjointElectroatomicReactionTypeHelpers DEPENDS tstAdjointElectroatomicReactionTypeHelpers.cpp)
FRENSIE_ADD_TEST(AdjointElectroatomicReactionTypeHelpers)

FRENSIE_ADD_TEST_EXECUTABLE(PositronatomicReactionTypeHelpers DEPENDS tstPositronatomicReactionTypeHelpers.cpp)
FRENSIE_ADD_TEST(PositronatomicReactionTypeHelpers)

FRENSIE_ADD_TEST_EXECUTABLE(ElasticElectronDistributionType DEPENDS tstElasticElectronDistributionType.cpp)
FRENSIE_ADD_TEST(ElasticElectronDistributionType)

FRENSIE_ADD_TEST_EXECUTABLE(BremsstrahlungAngularDistributionType DEPENDS tstBremsstrahlungAngularDistributionType.cpp)
FRENSIE_ADD_TEST(BremsstrahlungAngularDistributionType)

FRENSIE_ADD_TEST_EXECUTABLE(ParticleModeType DEPENDS tstParticleModeType.cpp)
FRENSIE_ADD_TEST(ParticleModeType)

ADD_EXECUTABLE(tstParticleModeTypeTraits
  tstParticleModeTypeTraits.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstParticleModeTypeTraits monte_carlo_core)
ADD_TEST(ParticleModeTypeTraits_test tstParticleModeTypeTraits)
SET_PROPERTY(TEST ParticleModeTypeTraits_test PROPERTY LABELS monte_carlo_core)

ADD_EXECUTABLE(tstSimulationGeneralProperties
  tstSimulationGeneralProperties.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationGeneralProperties monte_carlo_core)
ADD_TEST(SimulationGeneralProperties_test tstSimulationGeneralProperties)

ADD_EXECUTABLE(tstSimulationNeutronProperties
  tstSimulationNeutronProperties.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationNeutronProperties monte_carlo_core)
ADD_TEST(SimulationNeutronProperties_test tstSimulationNeutronProperties)
SET_PROPERTY(TEST SimulationNeutronProperties_test PROPERTY LABELS neutron)

ADD_EXECUTABLE(tstSimulationPhotonProperties
  tstSimulationPhotonProperties.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationPhotonProperties monte_carlo_core)
ADD_TEST(SimulationPhotonProperties_test tstSimulationPhotonProperties)
SET_PROPERTY(TEST SimulationPhotonProperties_test PROPERTY LABELS photon)

ADD_EXECUTABLE(tstSimulationAdjointPhotonProperties
  tstSimulationAdjointPhotonProperties.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationAdjointPhotonProperties monte_carlo_core)
ADD_TEST(SimulationAdjointPhotonProperties_test tstSimulationAdjointPhotonProperties)
SET_PROPERTY(TEST SimulationAdjointPhotonProperties_test PROPERTY LABELS photon adjoint)

ADD_EXECUTABLE(tstSimulationElectronProperties
  tstSimulationElectronProperties.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationElectronProperties monte_carlo_core)
ADD_TEST(SimulationElectronProperties_test tstSimulationElectronProperties)
SET_PROPERTY(TEST SimulationElectronProperties_test PROPERTY LABELS electron)

ADD_EXECUTABLE(tstSimulationAdjointElectronProperties
  tstSimulationAdjointElectronProperties.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationAdjointElectronProperties monte_carlo_core)
ADD_TEST(SimulationAdjointElectronProperties_test tstSimulationAdjointElectronProperties)
SET_PROPERTY(TEST SimulationAdjointElectronProperties_test PROPERTY LABELS electron adjoint)

ADD_EXECUTABLE(tstTwoDInterpolationType
  tstTwoDInterpolationType.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstTwoDInterpolationType monte_carlo_core)
ADD_TEST(TwoDInterpolationType_test tstTwoDInterpolationType)
SET_PROPERTY(TEST TwoDInterpolationType_test PROPERTY LABELS electron)

ADD_EXECUTABLE(tstTwoDSamplingType
  tstTwoDSamplingType.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstTwoDSamplingType monte_carlo_core)
ADD_TEST(TwoDSamplingType_test tstTwoDSamplingType)
SET_PROPERTY(TEST TwoDSamplingType_test PROPERTY LABELS electron)

ADD_EXECUTABLE(tstSimulationProperties
  tstSimulationProperties.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationProperties monte_carlo_core)
ADD_TEST(SimulationProperties_test tstSimulationProperties)
SET_PROPERTY(TEST SimulationProperties_test PROPERTY LABELS electron)

ADD_EXECUTABLE(tstSimulationGeneralPropertiesFactory
  tstSimulationGeneralPropertiesFactory.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationGeneralPropertiesFactory monte_carlo_core)
ADD_TEST(SimulationGeneralPropertiesFactory_test tstSimulationGeneralPropertiesFactory --test_properties_xml_file="${CMAKE_CURRENT_SOURCE_DIR}/test_files/test_properties.xml")

ADD_EXECUTABLE(tstSimulationNeutronPropertiesFactory
  tstSimulationNeutronPropertiesFactory.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationNeutronPropertiesFactory monte_carlo_core)
ADD_TEST(SimulationNeutronPropertiesFactory_test tstSimulationNeutronPropertiesFactory --test_properties_xml_file="${CMAKE_CURRENT_SOURCE_DIR}/test_files/test_properties.xml")
SET_PROPERTY(TEST SimulationNeutronPropertiesFactory_test PROPERTY LABELS neutron)

ADD_EXECUTABLE(tstSimulationPhotonPropertiesFactory
  tstSimulationPhotonPropertiesFactory.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationPhotonPropertiesFactory monte_carlo_core)
ADD_TEST(SimulationPhotonPropertiesFactory_test tstSimulationPhotonPropertiesFactory --test_properties_xml_file="${CMAKE_CURRENT_SOURCE_DIR}/test_files/test_properties.xml")
SET_PROPERTY(TEST SimulationPhotonPropertiesFactory_test PROPERTY LABELS photon)

ADD_EXECUTABLE(tstSimulationAdjointPhotonPropertiesFactory
  tstSimulationAdjointPhotonPropertiesFactory.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationAdjointPhotonPropertiesFactory monte_carlo_core)
ADD_TEST(SimulationAdjointPhotonPropertiesFactory_test tstSimulationAdjointPhotonPropertiesFactory --test_properties_xml_file="${CMAKE_CURRENT_SOURCE_DIR}/test_files/test_properties.xml")
SET_PROPERTY(TEST SimulationAdjointPhotonPropertiesFactory_test PROPERTY LABELS photon)

ADD_EXECUTABLE(tstSimulationElectronPropertiesFactory
  tstSimulationElectronPropertiesFactory.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationElectronPropertiesFactory monte_carlo_core)
ADD_TEST(SimulationElectronPropertiesFactory_test tstSimulationElectronPropertiesFactory --test_properties_xml_file="${CMAKE_CURRENT_SOURCE_DIR}/test_files/test_properties.xml")
SET_PROPERTY(TEST SimulationElectronPropertiesFactory_test PROPERTY LABELS electron)

ADD_EXECUTABLE(tstSimulationAdjointElectronPropertiesFactory
  tstSimulationAdjointElectronPropertiesFactory.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationAdjointElectronPropertiesFactory monte_carlo_core)
ADD_TEST(SimulationAdjointElectronPropertiesFactory_test tstSimulationAdjointElectronPropertiesFactory --test_properties_xml_file="${CMAKE_CURRENT_SOURCE_DIR}/test_files/test_properties.xml")
SET_PROPERTY(TEST SimulationAdjointElectronPropertiesFactory_test PROPERTY LABELS electron adjoint)

ADD_EXECUTABLE(tstSimulationPropertiesFactory
  tstSimulationPropertiesFactory.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstSimulationPropertiesFactory monte_carlo_core)
ADD_TEST(SimulationPropertiesFactory_test tstSimulationPropertiesFactory --test_properties_xml_file="${CMAKE_CURRENT_SOURCE_DIR}/test_files/test_properties.xml")
SET_PROPERTY(TEST SimulationPropertiesFactory_test PROPERTY LABELS monte_carlo_core)

ADD_EXECUTABLE(tstMonteCarloHDF5FileHandler
  tstHDF5FileHandler.cpp
  ${FRENSIE_STD_UNIT_TEST_MAIN})
TARGET_LINK_LIBRARIES(tstMonteCarloHDF5FileHandler monte_carlo_core)
ADD_TEST(MonteCarloHDF5FileHandler_test tstMonteCarloHDF5FileHandler)
SET_PROPERTY(TEST MonteCarloHDF5FileHandler_test PROPERTY LABELS monte_carlo_core )

FRENSIE_FINALIZE_PACKAGE_TESTS(monte_carlo_core)
