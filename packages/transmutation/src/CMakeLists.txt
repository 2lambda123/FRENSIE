# Find all headers and sources (no updates to this file necessary!)
FILE(GLOB TRANSMUTATION_HEADERS *.hpp)
FILE(GLOB TRANSMUTATION_SOURCES *.cpp *.F90)

IF(CMAKE_VERBOSE_CONFIGURE)
  MESSAGE("TRANSMUTATION_HEADERS = ${TRANSMUTATION_HEADERS}")
  MESSAGE("TRANSMUTATION_SOURCES = ${TRANSMUTATION_SOURCES}")
ENDIF()

SET(SUBPACKAGE_LIB_NAME transmutation)

# Create the transmutation library
ADD_LIBRARY(${SUBPACKAGE_LIB_NAME} ${TRANSMUTATION_SOURCES})
TARGET_LINK_LIBRARIES(${SUBPACKAGE_LIB_NAME} data_decay data_endf utility_core
${Boost_LIBRARIES} ${TEUCHOS_NUMERICS})
IF(${FRENSIE_ENABLE_MPI})
  TARGET_LINK_LIBRARIES(${SUBPACKAGE_LIB_NAME} ${MPI_CXX_LIBRARIES})
ENDIF()

INSTALL(TARGETS ${SUBPACKAGE_LIB_NAME}
  DESTINATION ${CMAKE_INSTALL_PREFIX}/lib)
INSTALL(FILES ${TRANSMUTATION_HEADERS}
  DESTINATION ${CMAKE_INSTALL_PREFIX}/include
  PERMISSIONS OWNER_READ GROUP_READ WORLD_READ)
